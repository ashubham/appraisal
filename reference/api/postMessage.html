<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="../../assets/style.css?t=615badd5">
    <link rel="stylesheet" href="https://ricostacruz.com/docpress-rsc/style.css">
    <link rel="stylesheet" href="../../assets/custom.css?t=31384f59">
    <script src="../../assets/script.js?t=42463e55"></script>
    <title>postMessage - Custody</title>
    <meta name="viewport" content="width=device-width">
  </head>
  <body class="-menu-visible">
    <div class="doc-layout">
      <div class="toggle menu-toggle js-menu-toggle"></div>
      <div class="menu toc-menu">
        <li class="menu-item -level-0 -parent">
          <ul class="submenu">
            <li class="menu-item -level-1"><a class="link title  link-index" href="../../index.html">Custody</a>
            </li>
            <li class="menu-item -level-1 -parent"><span class="title">Quick Start</span>
              <ul class="submenu">
                <li class="menu-item -level-2"><a class="link title  link-starttutorial" href="../../start/tutorial.html">Tutorial</a>
                </li>
              </ul>
            </li>
            <li class="menu-item -level-1 -parent"><span class="title">Reference</span>
              <ul class="submenu">
                <li class="menu-item -level-2"><a class="link title  link-referenceconfig" href="../../reference/config.html">Configuation</a>
                </li>
                <li class="menu-item -level-2 -parent"><span class="title">API Reference</span>
                  <ul class="submenu">
                    <li class="menu-item -level-3"><a class="link title -active link-referenceapipostmessage" href="../../reference/api/postMessage.html">postMessage</a>
                      <ul class="headings heading-list">
                        <li class="heading-item -depth-3"><a class="hlink link-postmessageoptions" href="#postmessageoptions">PostMessageOptions</a>
                        </li>
                        <li class="heading-item -depth-3"><a class="hlink link-returns" href="#returns">Returns</a>
                        </li>
                      </ul>
                    </li>
                    <li class="menu-item -level-3"><a class="link title  link-referenceapiuploadfile" href="../../reference/api/uploadFile.html">uploadFile</a>
                    </li>
                    <li class="menu-item -level-3"><a class="link title  link-referenceapisleep" href="../../reference/api/sleep.html">sleep</a>
                    </li>
                    <li class="menu-item -level-3"><a class="link title  link-referenceapigetlastmessage" href="../../reference/api/getLastMessage.html">getLastMessage</a>
                    </li>
                    <li class="menu-item -level-3"><a class="link title  link-referenceapiwaitresponse" href="../../reference/api/waitResponse.html">waitForResponseToBe</a>
                    </li>
                    <li class="menu-item -level-3"><a class="link title  link-referenceapiwaitfile" href="../../reference/api/waitFile.html">waitForFileShare</a>
                    </li>
                    <li class="menu-item -level-3"><a class="link title  link-referenceapiwait" href="../../reference/api/wait.html">wait</a>
                    </li>
                  </ul>
                </li>
                <li class="menu-item -level-2 -parent"><span class="title">How it works</span>
                  <ul class="submenu">
                    <li class="menu-item -level-3"><a class="link title  link-referencehownormalization" href="../../reference/how/normalization.html">Normalization</a>
                    </li>
                  </ul>
                </li>
              </ul>
            </li>
          </ul>
        </li>
      </div>
      <div class="body page-referenceapipostmessage">
        <div class="header-nav">
          <div class="right"><a class="iconlink" href="https://github.com/ashubham/custody" data-title="ashubham/custody">
              <!-- span.title Open in GitHub--><span class="icon -github"></span></a>
          </div>
        </div>
        <div class="markdown-body"><h1 id="csty.postmessage">csty.postMessage</h1>
<p>Posts a message to the specified/default receiver.</p>
<p>This methods waits for a response from the receiver, it blocks Custody&#x2019;s control flow, not the javascript runtime. It will only delay future custody commands from being executed (e.g. this method will cause Custody to wait before sending future commands to the chat platform). This
behaviour can be turned off by setting <code>skipWait: true</code> in the options.</p>
<p>Example</p>
<pre><code class="lang-js">csty.postMessage(<span class="pl-s">&apos;Test Message!&apos;</span>); <span class="pl-c">// Posts &apos;Test Message&apos; to default Receiver.</span>

csty.postMessage(<span class="pl-s">&apos;Hello&apos;</span>, {
    <span class="hljs-attr">skipWait</span>: <span class="pl-c1">true</span>, <span class="pl-c">// Do not wait for any response, i.e. disable implicit wait.</span>
    receiver: <span class="pl-s">&apos;U192929&apos;</span> <span class="pl-c">// Send message to this user, instead of default.</span>
});
</code></pre>
<table>
<thead>
<tr>
<th>Param</th>
<th style="text-align:center">Type</th>
<th style="text-align:center">Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>message</td>
<td style="text-align:center">string</td>
<td style="text-align:center">&#x2018;&#x2019;</td>
<td>The text message to send</td>
</tr>
<tr>
<td>opts</td>
<td style="text-align:center"><a href="#postMesgOpts">PostMessageOptions</a></td>
<td style="text-align:center"></td>
<td>options</td>
</tr>
</tbody>
</table>
<h3 id="postmessageoptions">PostMessageOptions</h3>
<table>
<thead>
<tr>
<th>key</th>
<th style="text-align:center">Type</th>
<th style="text-align:center">Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>skipWait</td>
<td style="text-align:center">boolean</td>
<td style="text-align:center">false</td>
<td>Do not wait for any response</td>
</tr>
<tr>
<td>skipMention</td>
<td style="text-align:center">boolean</td>
<td style="text-align:center">false</td>
<td>Do not call out the bot/reciver</td>
</tr>
<tr>
<td>receiver</td>
<td style="text-align:center">string</td>
<td style="text-align:center">config.defaultReceiver</td>
<td>The receiver id</td>
</tr>
</tbody>
</table>
<h3 id="returns">Returns</h3>
<table>
<thead>
<tr>
<th>Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Promise&lt;Message&gt;</td>
<td style="text-align:left">A promise that will be fulfilled with the message recieved as confirmation from the platform.</td>
</tr>
</tbody>
</table>

        </div>
        <div class="footer-nav">
          <div class="left"><a href="../../reference/config.html"><span class="title">Configuation</span></a></div>
          <div class="right"><a href="../../reference/api/uploadFile.html"><span class="label">Next: </span><span class="title">uploadFile</span></a></div>
        </div>
      </div>
    </div>
  </body>
</html>